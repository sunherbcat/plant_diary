# 植物日記 - 使用說明

## 📱 應用程式簡介

「植物日記」是一個幫助您管理和記錄植物成長歷程的桌面應用程式。您可以為每種植物記錄基本信息、定期拍照記錄成長變化，並使用 AI 技術自動分析植物狀態，獲得專業的照顧建議。

## ✨ 主要功能

1. **植物管理**
   - 記錄植物的中文名稱和英文學名
   - **📷 OCR 識別**：拍攝植物花牌照片，自動識別並輸入植物信息
   - 添加備註信息
   - 編輯和刪除植物記錄

2. **成長記錄**
   - 定期為植物拍照
   - 自動按時間順序組織照片
   - 查看完整的成長歷程時間線

3. **AI 智能分析**
   - 自動分析植物照片
   - 判斷植物健康狀態
   - 提供個性化照顧建議

## 🚀 快速開始

### 第一步：安裝依賴

打開 PowerShell，在項目目錄中執行（**推薦使用此命令**）：

```powershell
python -m pip install --only-binary :all: -r plant_diary_requirements.txt
```

> **重要提示**：使用 `--only-binary :all:` 參數可以避免編譯問題，特別是在 Python 3.14 等新版本上。

這會安裝所需的套件，包括：
- `Pillow` - 圖像處理
- `openai` - OpenAI API 支持（可選，用於 AI 分析）
- `easyocr` - OCR 文字識別（用於識別植物花牌）

> **注意**：首次安裝 `easyocr` 時，會自動下載語言模型文件（約 100-200MB），可能需要一些時間。這是正常現象，只需等待下載完成即可。

### 第二步：啟動應用程式

執行以下命令之一：

```powershell
python run_plant_diary.py
```

或者：

```powershell
cd plant_diary
python main.py
```

### 第三步：開始使用

1. **添加第一個植物（推薦使用 OCR 識別）**
   - 點擊「+ 添加新植物」
   - 點擊「📷 從照片識別」按鈕
   - 選擇植物花牌照片（確保照片清晰）
   - 等待識別完成，系統會自動填充中文名稱和學名
   - 檢查識別結果，如有需要可手動修改
   - 點擊「保存」
   
   或者手動輸入：
   - 直接輸入中文名稱和學名
   - 點擊「保存」

2. **上傳照片**
   - 選擇植物
   - 點擊「上傳照片」
   - 選擇照片文件

3. **查看 AI 分析**
   - 上傳照片後，點擊「查看詳情和AI分析」
   - 查看分析結果和建議

## 🔧 設置 AI 功能（可選）

要使用完整的 AI 分析功能，您需要 OpenAI API 密鑰：

1. 前往 https://platform.openai.com 註冊
2. 創建 API 密鑰
3. 設置環境變數：

**Windows PowerShell:**
```powershell
$env:OPENAI_API_KEY="sk-your-api-key-here"
```

**Windows CMD:**
```cmd
set OPENAI_API_KEY=sk-your-api-key-here
```

> ⚠️ **注意**：使用 OpenAI API 可能產生費用，請查看定價信息。如果不設置 API 密鑰，應用程式仍可使用基本功能。

## 📖 詳細使用指南

### 添加植物

**方式一：從照片識別（推薦）**

1. 點擊左側的「+ 添加新植物」按鈕
2. 在彈出的對話框中，點擊「📷 從照片識別」按鈕
3. 選擇植物花牌的照片（確保照片清晰，文字可見）
4. 等待系統識別（通常幾秒鐘）
5. 系統會自動填充識別到的中文名稱和學名
6. 檢查識別結果，如有需要可手動修改
7. 添加備註（可選）
8. 點擊「保存」

**方式二：手動輸入**

1. 點擊左側的「+ 添加新植物」按鈕
2. 在對話框中輸入：
   - **中文名稱**：必填，例如「黃金葛」
   - **學名**：可選，例如「Epipremnum aureum」
   - **備註**：可選，記錄任何額外信息
3. 點擊「保存」

> **提示**：使用 OCR 識別功能可以大大簡化輸入流程，特別是當植物花牌上有清晰的文字時。

### 上傳照片

1. 在左側列表中選擇要記錄的植物
2. 點擊「上傳照片」按鈕
3. 在文件選擇對話框中選擇照片
4. 照片會自動：
   - 複製到 `plant_photos` 目錄
   - 記錄到數據庫
   - 進行 AI 分析（如果已設置 API 密鑰）

### 查看成長歷程

1. 選擇植物後，在「照片時間線」標籤頁查看所有照片
2. 照片按時間順序排列，最新的在前
3. 點擊「查看詳情和AI分析」查看每張照片的詳細信息

### 編輯和刪除

- **編輯植物**：選擇植物後，點擊「編輯」按鈕
- **刪除植物**：選擇植物後，點擊「刪除」按鈕（會同時刪除所有相關照片）

## 💾 數據存儲

- **數據庫文件**：`plant_diary.db`（SQLite 格式）
- **照片文件**：`plant_photos/` 目錄

所有數據都存儲在本地，保護您的隱私。

## ❓ 常見問題

### Q: 應用程式無法啟動？
A: 
- 確認已安裝 Python 3.8 或更高版本
- 確認已安裝所有依賴套件
- 檢查是否有錯誤訊息

### Q: 照片無法顯示？
A: 
- 確認照片格式支持（JPG, PNG, BMP, GIF）
- 檢查照片文件是否損壞
- 確認 `plant_photos` 目錄有寫入權限

### Q: AI 分析不工作？
A: 
- 確認已設置 OPENAI_API_KEY
- 確認網絡連接正常
- 檢查 API 密鑰是否有效
- 確認 API 帳戶有足夠餘額

### Q: 如何備份數據？
A: 
- 備份 `plant_diary.db` 文件
- 備份整個 `plant_photos` 目錄

## 📝 使用建議

1. **定期記錄**：建議每隔 3-4 週為每種植物拍照一次，記錄成長變化
2. **詳細備註**：在添加植物或照片時，可以添加詳細的備註，記錄當時的情況
3. **結合經驗**：AI 建議是參考，請結合自己的經驗和植物特性來判斷
4. **定期備份**：定期備份數據庫和照片文件

## 🆘 獲取幫助

如有問題或建議，請查看：
- `plant_diary/README.md` - 詳細技術文檔
- `plant_diary/啟動說明.md` - 快速啟動指南

## 📄 授權

本應用程式僅供個人使用。

---

**祝您種植愉快！** 🌱

