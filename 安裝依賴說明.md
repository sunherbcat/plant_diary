# 安裝依賴套件說明

## 快速安裝

在 PowerShell 中執行：

```powershell
python -m pip install --only-binary :all: -r plant_diary_requirements.txt
```

使用 `--only-binary :all:` 參數可以強制使用預編譯的 wheel 文件，避免編譯問題。

## 分步安裝（推薦）

如果上面的命令失敗，可以分步安裝：

```powershell
# 1. 安裝基礎套件
python -m pip install --only-binary :all: Pillow openai

# 2. 安裝 EasyOCR（OCR 功能）
python -m pip install --only-binary :all: easyocr
```

## 為什麼需要 --only-binary 參數？

Python 3.14 是一個很新的版本，某些套件（特別是依賴 C/C++ 編譯的套件）可能還沒有完全支持。使用 `--only-binary :all:` 參數可以：

1. **避免編譯錯誤**：強制使用預編譯的 wheel 文件，不需要編譯工具
2. **加快安裝速度**：直接下載預編譯文件，比編譯快得多
3. **提高成功率**：避免因缺少編譯工具（如 Visual Studio Build Tools）而失敗

## 如果仍然遇到問題

### 問題 1：缺少某些依賴

嘗試先安裝基礎依賴：

```powershell
python -m pip install --only-binary :all: Pillow numpy
python -m pip install --only-binary :all: openai
python -m pip install --only-binary :all: easyocr
```

### 問題 2：EasyOCR 安裝失敗

如果 EasyOCR 安裝失敗，您可以：

1. **只使用 OpenAI API**（需要 API 密鑰）：
   ```powershell
   python -m pip install --only-binary :all: Pillow openai
   ```
   然後設置環境變數：
   ```powershell
   $env:OPENAI_API_KEY="your-api-key-here"
   ```

2. **稍後再安裝 EasyOCR**：應用程式會自動檢測 EasyOCR 是否可用，如果沒有安裝，OCR 功能會提示使用 OpenAI API。

### 問題 3：網絡問題

如果在中國大陸，可能需要使用鏡像源：

```powershell
python -m pip install --only-binary :all: -r plant_diary_requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

## 驗證安裝

安裝完成後，可以驗證是否成功：

```powershell
python -c "import easyocr; print('EasyOCR 安裝成功')"
python -c "import openai; print('OpenAI 安裝成功')"
python -c "from PIL import Image; print('Pillow 安裝成功')"
```

## 已安裝的套件

成功安裝後，您將擁有：

- ✅ **Pillow** - 圖像處理庫
- ✅ **openai** - OpenAI API 客戶端（用於 AI 分析和 OCR）
- ✅ **easyocr** - OCR 文字識別庫（免費 OCR 功能）
- ✅ **torch** - PyTorch（EasyOCR 的依賴）
- ✅ 其他必要的依賴套件

## 注意事項

1. **首次使用 EasyOCR**：首次運行時，EasyOCR 會自動下載語言模型文件（約 100-200MB），這可能需要一些時間。

2. **磁盤空間**：完整的依賴安裝可能需要約 1-2 GB 的磁盤空間。

3. **Python 版本**：建議使用 Python 3.8 或更高版本（您使用的是 Python 3.14，完全支持）。

## 需要幫助？

如果安裝過程中遇到問題，請：

1. 確認 Python 版本：`python --version`
2. 確認 pip 是最新的：`python -m pip install --upgrade pip`
3. 查看完整錯誤訊息，搜索相關解決方案
4. 考慮使用 Python 3.12 或 3.13（這些版本對套件的支持更成熟）




