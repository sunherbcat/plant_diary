# 植物日記 Plant Diary

一個用於管理和記錄植物成長歷程的桌面應用程式。

## 功能特色

- 🌱 **植物管理**：記錄植物的中文名稱和學名
- 📷 **OCR 識別**：拍攝植物花牌照片，自動識別中文名稱和學名
- 📸 **照片記錄**：定期為植物拍照，記錄成長歷程
- 📅 **時間線展示**：以時間順序查看植物的成長變化
- 🤖 **AI 分析**：使用 AI 自動分析植物狀態，提供照顧建議
- 💾 **本地存儲**：所有數據存儲在本地，保護隱私

## 系統要求

- Python 3.8 或更高版本
- Windows / macOS / Linux

## 安裝步驟

### 1. 安裝依賴套件

**推薦命令**（使用預編譯包，避免編譯問題）：

```powershell
python -m pip install --only-binary :all: -r plant_diary_requirements.txt
```

> **提示**：使用 `--only-binary :all:` 參數可以避免編譯問題，特別是在 Python 3.14 等新版本上。

如果上面的命令失敗，請查看項目根目錄的 `安裝依賴說明.md` 文件獲取詳細指南。

這會安裝：
- `Pillow` - 圖像處理
- `openai` - OpenAI API 支持（可選）
- `easyocr` - OCR 文字識別（用於識別植物花牌）

> **注意**：首次安裝 `easyocr` 時，會自動下載語言模型文件，可能需要一些時間。

### 2. 設置 OpenAI API 密鑰（可選）

要使用完整的 AI 分析功能，您需要：

1. 前往 https://platform.openai.com 註冊帳號
2. 創建 API 密鑰
3. 設置環境變數：

**Windows PowerShell:**
```powershell
$env:OPENAI_API_KEY="your-api-key-here"
```

**Windows CMD:**
```cmd
set OPENAI_API_KEY=your-api-key-here
```

**macOS/Linux:**
```bash
export OPENAI_API_KEY="your-api-key-here"
```

或者您可以在應用程式中手動輸入 API 密鑰（需要修改代碼）。

> **注意**：不使用 API 密鑰也可以使用應用程式的基本功能，但 AI 分析功能將受限。

## 使用方法

### 啟動應用程式

在項目目錄中執行：

```powershell
python plant_diary/main.py
```

或者：

```powershell
cd plant_diary
python main.py
```

### 基本操作

1. **添加植物**
   - 點擊「+ 添加新植物」按鈕
   - **方式一（推薦）**：點擊「📷 從照片識別」按鈕，選擇植物花牌照片，系統會自動識別並填充中文名稱和學名
   - **方式二**：手動輸入
     - 輸入中文名稱（必填）
     - 輸入學名（可選）
     - 添加備註（可選）
   - 檢查並確認識別結果（如有需要可手動修改）
   - 點擊「保存」

2. **上傳照片**
   - 在左側列表中選擇植物
   - 點擊「上傳照片」按鈕
   - 選擇照片文件
   - 照片會自動保存並進行 AI 分析

3. **查看成長歷程**
   - 選擇植物後，在「照片時間線」標籤頁查看所有照片
   - 按時間順序排列，最新的照片在前

4. **查看 AI 分析**
   - 上傳照片後，點擊「查看詳情和AI分析」
   - 在「AI 分析」標籤頁查看分析結果和照顧建議

5. **編輯/刪除植物**
   - 選擇植物後，點擊「編輯」或「刪除」按鈕

## 數據存儲

- **數據庫**：`plant_diary.db`（SQLite 數據庫文件）
- **照片文件**：`plant_photos/` 目錄

這些文件都存儲在應用程式運行目錄中。

## 注意事項

1. **照片存儲**：照片文件會複製到 `plant_photos` 目錄，原始文件不會被刪除
2. **AI 分析**：首次上傳照片時，AI 分析可能需要一些時間，請耐心等待
3. **API 費用**：使用 OpenAI API 可能會產生費用，請查看 OpenAI 的定價信息

## 故障排除

### 無法啟動應用程式

- 確認已安裝所有依賴套件
- 確認 Python 版本為 3.8 或更高

### AI 分析不工作

- 確認已設置 OPENAI_API_KEY 環境變數
- 確認網絡連接正常
- 檢查 API 密鑰是否有效

### 照片無法顯示

- 確認照片文件路徑正確
- 檢查照片文件是否損壞
- 確認 `plant_photos` 目錄有寫入權限

## 開發說明

應用程式結構：

```
plant_diary/
├── __init__.py          # 包初始化文件
├── main.py              # 主應用程式（GUI）
├── database.py          # 數據庫操作模組
├── ai_analyzer.py       # AI 分析模組
└── README.md            # 本文件
```

## 授權

本應用程式僅供個人使用。

## 更新日誌

### v1.0.0 (2024)
- 初始版本
- 基本的植物管理和照片記錄功能
- AI 圖像分析功能
- 時間線展示功能

