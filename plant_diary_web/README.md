# 植物日記 - Web 版本

這是「植物日記」的 Web 版本，可以在手機瀏覽器中使用。

## 功能特色

- 📱 **手機支持**：響應式設計，完美適配手機瀏覽器
- 🌱 **植物管理**：添加、查看、管理植物信息
- 📷 **OCR 識別**：從植物花牌照片自動識別中文名稱和學名
- 📸 **照片上傳**：為植物拍照並記錄成長歷程
- 🤖 **AI 分析**：自動分析植物狀態（需要 OpenAI API 密鑰）

## 安裝步驟

### 1. 安裝依賴

確保已安裝基礎依賴（參考主目錄的安裝說明）：

```powershell
python -m pip install --only-binary :all: -r ../plant_diary_requirements.txt
```

然後安裝 Flask：

```powershell
python -m pip install Flask
```

或者：

```powershell
python -m pip install -r requirements.txt
```

## 使用方法

### 啟動 Web 服務器

在 `plant_diary_web` 目錄中執行：

```powershell
python app.py
```

服務器會在 `http://localhost:5000` 啟動。

### 從手機訪問

1. 確保手機和電腦連接在同一個 Wi-Fi 網絡
2. 查看電腦的 IP 地址：
   - Windows: 在 PowerShell 中執行 `ipconfig`，查找 IPv4 地址
   - 通常是 `192.168.x.x` 格式
3. 在手機瀏覽器中訪問：`http://電腦IP:5000`
   - 例如：`http://192.168.1.100:5000`

### 在本地訪問

直接在電腦瀏覽器中訪問：`http://localhost:5000`

## 功能說明

### 添加植物

1. 點擊「+ 添加新植物」按鈕
2. 可以選擇：
   - **從照片識別**：點擊「📷 從照片識別」，選擇植物花牌照片，系統會自動識別並填充信息
   - **手動輸入**：直接填寫中文名稱、學名和備註
3. 點擊「保存」

### 查看植物

1. 點擊植物列表中的任意植物
2. 查看植物詳情
3. 上傳照片記錄成長歷程
4. 查看所有照片的時間線

### 上傳照片

1. 選擇植物後，在詳情頁面中選擇照片
2. 可以添加照片備註
3. 點擊「上傳照片」
4. 照片會自動進行 AI 分析（如果設置了 OpenAI API 密鑰）

## 設置 OpenAI API（可選）

要使用 AI 分析功能，設置環境變數：

```powershell
$env:OPENAI_API_KEY="your-api-key-here"
```

## 注意事項

1. **網絡安全**：此 Web 版本在本地網絡上運行，只適合在家庭網絡中使用
2. **數據存儲**：數據庫和照片文件存儲在服務器端（運行 app.py 的電腦）
3. **性能**：首次使用 OCR 功能時，EasyOCR 會下載模型文件，可能需要一些時間

## 故障排除

### 無法從手機訪問

1. 確認手機和電腦在同一個 Wi-Fi 網絡
2. 確認防火牆允許端口 5000
3. 確認使用的是電腦的實際 IP 地址（不是 localhost）

### OCR 識別不工作

1. 確認已安裝 easyocr 或設置了 OpenAI API 密鑰
2. 確認照片清晰，文字可見
3. 查看服務器終端的錯誤訊息

## 與桌面版本的關係

- 使用相同的數據庫文件（`plant_diary.db`）
- 使用相同的照片存儲目錄（`plant_photos`）
- 可以同時使用桌面版本和 Web 版本，數據會同步

## 授權

與桌面版本相同，僅供個人使用。




